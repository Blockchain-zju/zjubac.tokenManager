(function(t){function e(e){for(var a,s,o=e[0],c=e[1],d=e[2],l=0,m=[];l<o.length;l++)s=o[l],r[s]&&m.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0f72":function(t,e,n){"use strict";var a=n("766c"),r=n.n(a);r.a},1:function(t,e){},2:function(t,e){},"27ff":function(t,e,n){"use strict";var a=n("6159"),r=n.n(a);r.a},"2f33":function(t,e,n){"use strict";var a=n("3227"),r=n.n(a);r.a},3:function(t,e){},3227:function(t,e,n){},"33d4":function(t,e,n){},4:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container",attrs:{id:"app"}},[n("md-app",[n("md-app-toolbar",{staticClass:"md-primary",staticStyle:{display:"flex"}},[n("div",{staticClass:"md-toolbar-row"},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"md-icon-button",on:{click:t.goback}},[n("md-icon",[t._v("keyboard_arrow_left")])],1),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}]},[t._v("   ")]),n("span",{on:{click:function(e){return t.login()}}},[t._v(t._s(t.Account))])],1),n("div",{staticClass:"md-toolbar-section-end"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[n("md-icon",[t._v("menu")])],1)],1)])]),n("md-app-drawer",{staticClass:"md-right",attrs:{"md-permanent":"full","md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[n("md-list",[n("md-list-item",[n("md-icon",[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("home")])],1),n("span",{staticClass:"md-list-item-text",on:{click:function(e){return t.clickshouye()}}},[t._v("首页")])],1),n("md-list-item",[n("md-icon",[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/account"}},[t._v("face")])],1),n("span",{staticClass:"md-list-item-text",on:{click:function(e){return t.clickaccount()}}},[t._v("我的账户")])],1),n("md-list-item",[n("md-icon",[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/multisig"}},[t._v("receipt")])],1),n("span",{staticClass:"md-list-item-text",on:{click:function(e){return t.clickmultisig()}}},[t._v("相关提案")])],1),n("md-list-item",[n("md-icon",[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/allmembers"}},[t._v("supervisor_account")])],1),n("span",{staticClass:"md-list-item-text",on:{click:function(e){return t.clickmember()}}},[t._v("成员信息")])],1)],1)],1),n("md-app-content",[n("router-view")],1)],1),n("md-dialog-alert",{attrs:{"md-active":t.first,"md-content":"Please unlock your scatter!","md-confirm-text":"OK!"},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}})],1)},i=[],s=(n("7f7f"),n("7514"),n("96cf"),n("3b8d")),o=n("8c4f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shouye"},[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.available,expression:"available"}],attrs:{"md-mode":"indeterminate"}}),n("div",{attrs:{id:"content1","md-layout":"","md-gutter":""}},[n("div",{staticClass:"md-layout-item md-layout md-gutter"},[n("div",{staticClass:"md-layout-item md-medium-size-33 md-small-size-50 md-xsmall-size-100",staticStyle:{"margin-top":"0vw"}},[n("md-card",{staticClass:"zjutokeninfo",staticStyle:{"margin-top":"1vw","margin-left":"3vw","margin-right":"3vw"}},[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title",staticStyle:{"text-align":"center"}},[t._v("Token合约账户")])])],1),n("md-card-content",[n("md-table",{staticStyle:{width:"100%",overflow:"hidden"}},[n("md-table-row",[n("md-table-cell",[t._v("总量")]),n("md-table-cell",[t._v(t._s(t.max_supply))])],1),n("md-table-row",[n("md-table-cell",[t._v("释放")]),n("md-table-cell",[t._v(t._s(t.supply))])],1),n("md-table-row",[n("md-table-cell",[t._v("锁仓")]),n("md-table-cell",[t._v(t._s(t.frozen_amount))])],1),n("md-table-row",[n("md-table-cell",[t._v("发行")]),n("md-table-cell",[t._v(t._s(t.issuer))])],1)],1)],1)],1)],1),n("div",{staticClass:"md-layout-item md-medium-size-36 md-small-size-50 md-xsmall-size-100"},[n("md-card",{staticClass:"zjutokeninfo",staticStyle:{"margin-top":"1vw","margin-left":"3vw","margin-right":"3vw"}},[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title",staticStyle:{"text-align":"center"}},[t._v("下一次解锁")])])],1),n("md-card-content",[n("md-table",{staticStyle:{width:"100%",overflow:"hidden"}},[n("md-table-row",[n("md-table-cell",[t._v("时间")]),n("md-table-cell",[t._v(t._s(t.next_release_day))])],1),n("md-table-row",[n("md-table-cell",[t._v("数量")]),n("md-table-cell",[t._v(t._s(t.release_amount_pertime))])],1),n("md-table-row",[n("md-table-cell",[t._v("释放")]),n("md-table-cell",[t._v(t._s(t.released_times)+"次")])],1)],1)],1)],1)],1)]),n("md-card",{staticStyle:{"margin-top":"4vw"},attrs:{id:"recent-action"}},[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("最近交易")])]),n("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),n("md-card-content",[n("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"0vw","margin-bottom":"1vw"}},[n("md-progress-spinner",{directives:[{name:"show",rawName:"v-show",value:t.ok,expression:"ok"}],staticClass:"md-size-1",staticStyle:{"margin-left":"37vw"},attrs:{"md-mode":"indeterminate","md-diameter":30,"md-stroke":3}}),n("table",{directives:[{name:"show",rawName:"v-show",value:!t.ok,expression:"!ok"}],staticClass:"table",staticStyle:{"table-layout":"fixed"}},[n("thead",[n("tr",[n("th",[t._v("转帐方")]),n("th",[t._v("收款方")]),n("th",[t._v("数量")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")]),n("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),n("th",{staticClass:"hidden-xs"},[t._v("时间")])])]),n("tbody",t._l(t.actions,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.from))]),n("td",[t._v(t._s(e.to))]),n("td",[t._v(t._s(e.quantity))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1)],1)],1)},d=[],u=n("e814"),l=n.n(u),m=(n("a481"),function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")}),p={name:"shouye",data:function(){return{actions:[],actionss:[],ok:!0,max_supply:"",supply:"",frozen_amount:"",issuer:"",next_release_day:"",release_amount_pertime:"",released_times:"",transactions:[],available:!1}},created:function(){this.available=!0,this.getTotalNum()},methods:{getTotalNum:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return Qt.getTableRows({code:"zjubcatokens",scope:"ZJUBCA",table:"stat",json:"true"}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n.max_supply=e.rows[0].max_supply,n.supply=e.rows[0].supply,n.frozen_amount=e.rows[0].frozen_amount,n.issuer=e.rows[0].issuer,n.release_amount_pertime=e.rows[0].release_amount_pertime,n.released_times=e.rows[0].released_times,n.next_release_day=m(e.rows[0].next_release_day);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t.next=3,Qt.getActions({account_name:"zjubcatokens",pos:-1,offset:-20}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=a.actions.length,r=0,i=0;case 3:if(!(i<e)){t.next=12;break}if("transfer"!==a.actions[e-i-1].action_trace.act.name||"zjubcatokens"!==a.actions[e-i-1].action_trace.receipt.receiver){t.next=9;break}if(n.actions[r]={time:a.actions[e-i-1].block_time,from:a.actions[e-i-1].action_trace.act.data.from,to:a.actions[e-i-1].action_trace.act.data.to,quantity:a.actions[e-i-1].action_trace.act.data.quantity,memo:a.actions[e-i-1].action_trace.act.data.memo,height:a.actions[e-i-1].block_num,id:r},r+=1,20!=r){t.next=9;break}return t.abrupt("break",12);case 9:i++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){n.available=!1,n.ok=!1});case 3:this.ok=!1,this.available=!1;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"SearchAction",query:{item:t}})},toall:function(){this.$router.push({name:"acountactions",query:{account:"zjubcatokens"}})}}},h=p,f=(n("cb55"),n("2877")),v=Object(f["a"])(h,c,d,!1,null,null,null),b=v.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"centered-container",staticStyle:{"margin-left":"4vw","margin-right":"4vw"}},[n("md-content",{staticClass:"md-elevation-3"},[n("div",{staticClass:"title"},[n("div",{staticClass:"md-title"},[t._v("ZJUBCA")]),n("div",{staticClass:"md-body-1"},[t._v("注册")])]),n("div",{staticClass:"form"},[n("md-field",[n("label",[t._v("真实姓名")]),n("md-input",{attrs:{autofocus:""},model:{value:t.studentInfo.FullName,callback:function(e){t.$set(t.studentInfo,"FullName",e)},expression:"studentInfo.FullName"}})],1),n("md-field",[n("label",[t._v("学号")]),n("md-input",{model:{value:t.studentInfo.studentId,callback:function(e){t.$set(t.studentInfo,"studentId",e)},expression:"studentInfo.studentId"}})],1)],1),n("md-card-actions",[n("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-right":"0"},on:{click:t.regis}},[t._v("注册")])],1),t.loading?n("div",{staticClass:"loading-overlay"},[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-stroke":2}})],1):t._e()],1),n("div",{staticClass:"background"}),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.first,"md-persistent":""},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}},[n("span",[t._v("注册失败!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){return t.fail()}}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.second,"md-persistent":""},on:{"update:mdActive":function(e){t.second=e},"update:md-active":function(e){t.second=e}}},[n("span",[t._v("注册成功!")]),n("md-button",{staticClass:"md-primary",on:{click:t.jump}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":8e3,"md-active":t.alertload,"md-persistent":""},on:{"update:mdActive":function(e){t.alertload=e},"update:md-active":function(e){t.alertload=e}}},[n("span",[t._v(t._s(t.alertmessage))]),n("md-button",{staticClass:"md-primary",on:{click:function(e){return t.fail2()}}},[t._v("ok")])],1)],1)},g=[],k=n("d3b7"),w=n.n(k),x={name:"App",data:function(){return{loading:!1,first:!1,position:"center",alertmessage:"",alertload:!1,second:!1,studentInfo:{studentId:"",EosId:"",FullName:""}}},methods:{alert:function(t){this.alertmessage=t,this.alertload=!0},alert2:function(t){this.alertmessage=t},fail:function(){this.first=!1,this.loading=!1,this.jump()},fail2:function(){this.alertload=!1,this.jump()},auth:function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1},3e3)},jump:function(){this.second=!0,this.$router.push({name:"member"})},regis:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.studentInfo.FullName||""!=this.studentInfo.studentId){t.next=3;break}return this.alert2("请输入姓名和学号"),t.abrupt("return");case 3:if(""!=this.studentInfo.FullName){t.next=6;break}return this.alert2("请输入姓名"),t.abrupt("return");case 6:if(""!=this.studentInfo.studentId){t.next=9;break}return this.alert2("请输入学号"),t.abrupt("return");case 9:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},console.log(this.$store.state.scatter),t.next=13,this.$store.state.scatter.eos(e,w.a,{expireInSeconds:20});case 13:return n=t.sent,t.prev=14,t.next=17,n.transaction({actions:[{account:"zjubcatokens",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcamember",quantity:"10000.0000 ZJUBCA",memo:"enroll$"+this.studentInfo.FullName+"$"+this.studentInfo.studentId}}]});case 17:a=t.sent,r=null,this.loading=!0,i=setInterval(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getTransaction(a.transaction_id);case 3:r=t.sent,r.block_num>0&&(clearInterval(i),c.loading=!1,c.second=!0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),1e3),t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](14),o=t.t0;try{o=JSON.parse(t.t0)}catch(d){}"nologin"===o.message?this.alert("请先登录"):402!==o.code&&(o.error?this.alert(o.error.details[0].message):this.alert(o.message));case 28:case"end":return t.stop()}},t,this,[[14,23]])}));function e(){return t.apply(this,arguments)}return e}()}},y=x,C=(n("0f72"),Object(f["a"])(y,_,g,!1,null,null,null)),S=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.loadingrenew,expression:"loadingrenew"}],attrs:{"md-mode":"indeterminate"}}),n("div"),n("div",[n("md-card",{attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("我的账户")])]),n("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.renew}},[n("span",[t._v("续期")])])],1)],1),n("md-card-content",[n("md-table",{staticStyle:{width:"81vw",overflow:"hidden"}},[n("md-table-row",[n("md-table-cell",[t._v("账户")]),n("md-table-cell",[t._v(t._s(t.name))])],1),n("md-table-row",[n("md-table-cell",[t._v("学号")]),n("md-table-cell",[t._v(t._s(t.StudentId))])],1),n("md-table-row",[n("md-table-cell",[t._v("姓名")]),n("md-table-cell",[t._v(t._s(t.studentname))])],1),n("md-table-row",[n("md-table-cell",[t._v("注册")]),n("md-table-cell",[t._v(t._s(t.registration_date))])],1),n("md-table-row",[n("md-table-cell",[t._v("到期")]),n("md-table-cell",[t._v(t._s(t.expiration_date))])],1),n("md-table-row",[n("md-table-cell",[t._v("余额")]),n("md-table-cell",[t._v(t._s(t.left))])],1)],1)],1)],1)],1),n("md-card",{staticStyle:{"margin-top":"5vw"}},[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("最近交易")])]),n("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),n("md-card-content",[n("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"1vw"}},[t.ok?n("md-progress-spinner",{staticClass:"md-size-1",staticStyle:{"margin-left":"37vw"},attrs:{"md-mode":"indeterminate","md-diameter":30,"md-stroke":3}}):n("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[n("thead",[n("tr",[n("th",[t._v("转帐方")]),n("th",[t._v("收款方")]),n("th",[t._v("数量")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")]),n("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),n("th",{staticClass:"hidden-xs"},[t._v("时间")])])]),n("tbody",t._l(t.actions,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.from))]),n("td",[t._v(t._s(e.to))]),n("td",[t._v(t._s(e.quantity))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.success,"md-persistent":""},on:{"update:mdActive":function(e){t.success=e},"update:md-active":function(e){t.success=e}}},[n("span",[t._v("续期失败!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.success=!1}}},[t._v("ok")])],1),n("md-dialog-confirm",{attrs:{"md-active":t.third,"md-content":"请先注册!","md-cancel-text":"以后再说","md-confirm-text":"前往注册"},on:{"update:mdActive":function(e){t.third=e},"update:md-active":function(e){t.third=e},"md-cancel":t.onCancel,"md-confirm":t.onConfirm}}),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.fourth,"md-persistent":""},on:{"update:mdActive":function(e){t.fourth=e},"update:md-active":function(e){t.fourth=e}}},[n("span",[t._v("续期成功!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.fourth=!1}}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":8e3,"md-active":t.alertload,"md-persistent":""},on:{"update:mdActive":function(e){t.alertload=e},"update:md-active":function(e){t.alertload=e}}},[n("span",[t._v(t._s(t.alertmessage))]),n("md-button",{staticClass:"md-primary",on:{click:function(t){this.alertload=!1}}},[t._v("ok")])],1)],1)],1)},$=[],R=n("c7cc"),O=n.n(R),A=n("1112"),z=n.n(A),I=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},q={data:function(){return{ok:0,name:"",StudentId:"",pk:"",leftnum:"",actions:[],actionss:[],transactions:[],studentname:"",registration_date:"",expiration_date:"",success:!1,second:!1,third:!1,position:"center",loadingrenew:!1,fourth:!1,alertmessage:"",alertload:!1}},computed:{left:function(){return this.mess(),this.leftnum}},methods:{onConfirm:function(){this.$router.push({name:"regis"})},onCancel:function(){this.$router.go(-1)},mess:function(){this.name=this.$store.state.account.name,this.getAccountInfo()},getAccountInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingrenew=!0,t.next=3,Qt.getTableRows({code:"zjubcamember",scope:"zjubcamember",table:"members",json:"true"}).then(function(t){var e,a=t.rows.length;for(e=0;e<a;e++)if(t.rows[e].eosaccount===n.name){n.StudentId=t.rows[e].studentid,n.studentname=t.rows[e].studentname,n.registration_date=I(t.rows[e].registration_date),n.expiration_date=I(t.rows[e].expiration_date),t.rows[e].expiration_date<Date.parse(new Date)/1e3&&(n.expiration_date=n.expiration_date+"(注册已过期，请renew！）");break}e===a&&(n.third=!0)});case 3:return Qt.getCurrencyBalance({code:"zjubcatokens",account:this.name,symbol:"ZJUBCA"}).then(function(t){n.leftnum=t[0]}),t.next=6,Qt.getActions({account_name:this.name,pos:-1,offset:-50}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=a.actions.length,r=0,i=0;case 3:if(!(i<e)){t.next=12;break}if("transfer"!==a.actions[e-i-1].action_trace.act.name||"zjubcatokens"!==a.actions[e-i-1].action_trace.receipt.receiver){t.next=9;break}if(n.actions[r]={time:a.actions[e-i-1].block_time,from:a.actions[e-i-1].action_trace.act.data.from,to:a.actions[e-i-1].action_trace.act.data.to,quantity:a.actions[e-i-1].action_trace.act.data.quantity,memo:a.actions[e-i-1].action_trace.act.data.memo,height:a.actions[e-i-1].block_num,id:r},r+=1,20!=r){t.next=9;break}return t.abrupt("break",12);case 9:i++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 6:this.ok=!this.ok,this.loadingrenew=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"SearchAction",query:{item:t}})},toall:function(){this.$router.push({name:"pages",query:{account:this.name}})},alert:function(t){this.alertmessage=t,this.alertload=!0},renew:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},t.next=3,this.$store.state.scatter.eos(e,w.a,{expireInSeconds:20});case 3:return n=t.sent,t.prev=4,t.next=7,n.transaction({actions:[{account:"zjubcatokens",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcamember",quantity:"10000.0000 ZJUBCA",memo:"renew$my$account"}}]});case 7:a=t.sent,this.loadingrenew=!0,r=null,this.loading=!0,i=setInterval(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getTransaction(a.transaction_id);case 3:r=t.sent,r.block_num>0&&(clearInterval(i),c.loadingrenew=!1,c.fourth=!0),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),c.alertload=!1;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),1e3),t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](4),o=t.t0;try{o=JSON.parse(t.t0)}catch(d){}"nologin"===o.message?this.alert("请先登录"):402!==o.code&&(o.error?this.alert(o.error.details[0].message):this.alert(o.message));case 19:case"end":return t.stop()}},t,this,[[4,14]])}));function e(){return t.apply(this,arguments)}return e}()}},P=q,N=(n("e453"),Object(f["a"])(P,j,$,!1,null,"7df77939",null)),T=N.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.ok,expression:"ok"}],attrs:{"md-mode":"indeterminate"}}),n("md-card",{attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Actions")])]),n("md-card-content",{staticStyle:{overflow:"hidden"}},[n("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"1vw"}},[n("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[n("thead",[n("tr",[n("th",[t._v("转账方")]),n("th",[t._v("收款方")]),n("th",[t._v("数量")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")]),n("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),n("th",{staticClass:"hidden-xs"},[t._v("时间")])])]),n("tbody",t._l(t.actions,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.from))]),n("td",[t._v(t._s(e.to))]),n("td",[t._v(t._s(e.quantity))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])])]),n("md-card-actions",[n("span",[t._v("Actions")]),n("span",[t._v("第"+t._s(this.currentpage)+" 页")]),n("md-button",{on:{click:function(e){return t.prepage()}}},[n("md-icon",[t._v("keyboard_arrow_left")])],1),n("md-button",{on:{click:function(e){return t.nextpage()}}},[n("md-icon",[t._v("keyboard_arrow_right")])],1)],1)],1)],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.first,"md-persistent":""},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}},[n("span",[t._v("这是第一页了!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.first=!1}}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.last,"md-persistent":""},on:{"update:mdActive":function(e){t.last=e},"update:md-active":function(e){t.last=e}}},[n("span",[t._v("这是最后一页了!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.last=!1}}},[t._v("ok")])],1)],1)},E=[],B={data:function(){return{currentpage:1,actions:[],actionss:[],transactions:[],loadpertime:10,ok:1,total:0,pagenum:0,allpage:0,account:"",actionindex:[],first:!1,last:!1,position:"center"}},created:function(){this.initial()},methods:{initial:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.actionindex[0]=-1,this.account=this.$route.query.account,t.next=4,Qt.getActions({account_name:this.account,pos:-1,offset:-1}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(n),e.actionindex[0]=n.actions[0].account_action_seq;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 4:this.getPage();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getPage:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Qt.getActions({account_name:this.account,pos:this.actionindex[this.currentpage-1],offset:n}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){var r,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.actions.length,0!=e){t.next=6;break}return a.last=!0,a.currentpage=a.currentpage-1,a.getPage(),t.abrupt("return");case 6:for(1===a.currentpage&&(a.actionindex[0]=n.actions[e-1].account_action_seq),r=0,i=0;s<10;s++)actions[s]={};i=0;case 11:if(!(i<e)){t.next=20;break}if("transfer"!==n.actions[e-i-1].action_trace.act.name||"zjubcatokens"!==n.actions[e-i-1].action_trace.receipt.receiver){t.next=17;break}if(a.actions[r]={time:n.actions[e-i-1].block_time,from:n.actions[e-i-1].action_trace.act.data.from,to:n.actions[e-i-1].action_trace.act.data.to,quantity:n.actions[e-i-1].action_trace.act.data.quantity,memo:n.actions[e-i-1].action_trace.act.data.memo,height:n.actions[e-i-1].block_num,id:r},r+=1,10!=r){t.next=17;break}return t.abrupt("break",20);case 17:i++,t.next=11;break;case 20:a.actionindex[a.currentpage]=a.actionindex[a.currentpage-1]-i,0==r&&(a.currentpage=a.currentpage-1,a.last=!0,a.getPage());case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){1!=a.currentpage&&(a.last=!0,a.currentpage=a.currentpage-1,a.getPage())});case 2:this.ok=!this.ok;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),nextpage:function(){this.actionindex[this.currentpage]<=0?this.last=!0:(this.ok=0,this.currentpage=this.currentpage+1,this.getPage())},prepage:function(){this.currentpage-1>=1?(this.currentpage=this.currentpage-1,this.ok=0,this.getPage()):this.first=!0},onSelect:function(t){this.$router.push({name:"SearchAction",query:{item:t}})}}},M=B,U=(n("27ff"),Object(f["a"])(M,J,E,!1,null,null,null)),Z=U.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{"md-mode":"indeterminate"}}),n("div",[n("md-card",{staticClass:"md-alignment-space-between",attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("账户信息")])]),n("md-card-content",[n("md-table",{staticStyle:{"table-layout":"fixed",overflow:"hidden"}},[n("md-table-row",[n("md-table-cell",[t._v("账户")]),n("md-table-cell",[t._v(t._s(t.name))])],1),n("md-table-row",[n("md-table-cell",[t._v("学号")]),n("md-table-cell",[t._v(t._s(t.StudentId))])],1),n("md-table-row",[n("md-table-cell",[t._v("姓名")]),n("md-table-cell",[t._v(t._s(t.studentname))])],1),n("md-table-row",[n("md-table-cell",[t._v("注册")]),n("md-table-cell",[t._v(t._s(t.registration_date))])],1),n("md-table-row",[n("md-table-cell",[t._v("余额")]),n("md-table-cell",[t._v(t._s(t.left))])],1)],1)],1)],1)],1),n("md-card",{staticStyle:{"margin-top":"4vw"}},[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("最近交易")])]),n("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),n("md-card-content",[n("div",{staticClass:"table-responsive"},[t.ok?n("md-progress-spinner",{staticClass:"md-size-1",staticStyle:{"margin-left":"37vw"},attrs:{"md-mode":"indeterminate","md-diameter":30,"md-stroke":3}}):n("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[n("thead",[n("tr",[n("th",[t._v("转帐方")]),n("th",[t._v("收款方")]),n("th",[t._v("数量")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")]),n("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),n("th",{staticClass:"hidden-xs"},[t._v("时间")])])]),n("tbody",t._l(t.actions,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.from))]),n("td",[t._v(t._s(e.to))]),n("td",[t._v(t._s(e.quantity))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1)],1)],1)},V=[],F=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},L={data:function(){return{ok:0,name:"",StudentId:"",pk:"",leftnum:"",actions:[],actionss:[],transactions:[],studentname:"",registration_date:"",loading:!1}},computed:{left:function(){return this.name=this.$route.query.Account,this.getAccountInfo(),this.leftnum}},methods:{getAccountInfo:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Qt.getTableRows({code:"zjubcamember",scope:"zjubcamember",table:"members",json:"true"}).then(function(t){var e,a=t.rows.length;for(e=0;e<a;e++)if(t.rows[e].eosaccount===n.name){n.StudentId=t.rows[e].studentid,n.studentname=t.rows[e].studentname,n.registration_date=F(t.rows[e].registration_date);break}});case 3:return Qt.getCurrencyBalance({code:"zjubcatokens",account:this.name,symbol:"ZJUBCA"}).then(function(t){n.leftnum=t[0]}),t.next=6,Qt.getActions({account_name:this.name,pos:-1,offset:-50}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(a){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=a.actions.length,r=0,i=0;case 3:if(!(i<e)){t.next=12;break}if("transfer"!==a.actions[e-i-1].action_trace.act.name||"zjubcatokens"!==a.actions[e-i-1].action_trace.receipt.receiver){t.next=9;break}if(n.actions[r]={time:a.actions[e-i-1].block_time,from:a.actions[e-i-1].action_trace.act.data.from,to:a.actions[e-i-1].action_trace.act.data.to,quantity:a.actions[e-i-1].action_trace.act.data.quantity,memo:a.actions[e-i-1].action_trace.act.data.memo,height:a.actions[e-i-1].block_num,id:r},r+=1,20!=r){t.next=9;break}return t.abrupt("break",12);case 9:i++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 6:this.ok=!this.ok,this.loading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"SearchAction",query:{item:t}})},toall:function(){this.$router.push({name:"pages",query:{account:this.name}})}}},K=L,G=Object(f["a"])(K,D,V,!1,null,"021fbbfe",null),H=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{"md-mode":"indeterminate"}}),n("md-card",{attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title"},[t._v("协会成员")])]),n("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.regis()}}},[t._v("注册")])],1)],1),n("md-card-content",[n("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[n("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("姓名")]),n("th",{staticClass:"hidden-xs"},[t._v("学号")]),n("th",{staticClass:"hidden-xs"},[t._v("EOS账号")]),n("th",[t._v("注册时间")]),n("th",{staticClass:"hidden-xs"},[t._v("到期时间")])])]),n("tbody",t._l(t.searched,function(e){return n("tr",{key:e.height,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.name))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.studentid))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.eosid))]),n("td",[t._v(t._s(e.registime))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.endtime))])])}),0)])],1)],1)],1)],1)},W=[],X=(n("386d"),n("6762"),n("2fdb"),n("6b54"),function(t){return t.toString().toLowerCase()}),Y=function(t,e){return e?t.filter(function(t){return X(t.name).includes(X(e))}):t},tt=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},et={name:"TableSearch",data:function(){return{search:null,searched:[],users:[],ok:0,loading:!1}},methods:{newUser:function(){this.$router.push({name:"regis"})},searchOnTable:function(){this.searched=Y(this.users,this.search)},getMembers:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Qt.getTableRows({code:"zjubcamember",scope:"zjubcamember",table:"members",json:"true"}).then(function(t){var n,a=t.rows.length;for(n=0;n<a;n++)e.users[n]={name:t.rows[a-n-1].studentname,studentid:t.rows[a-n-1].studentid,eosid:t.rows[a-n-1].eosaccount,registime:tt(t.rows[a-n-1].registration_date),endtime:tt(t.rows[a-n-1].expiration_date)},t.rows[a-n-1].expiration_date<Date.parse(new Date)/1e3&&(e.users[n].name=e.users[n].name+"(已过期）");e.searched=e.users});case 3:this.ok=!this.ok,this.loading=!1;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"SearchAccount",query:{Account:t.eosid}})},regis:function(){this.$router.push({name:"regis"})}},created:function(){this.getMembers()}},nt=et,at=(n("9a66"),Object(f["a"])(nt,Q,W,!1,null,"b6308114",null)),rt=at.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("交易信息")])]),n("md-card-content",{staticStyle:{overflow:"hidden"}},[n("md-table",{staticStyle:{overflow:"hidden"}},[n("md-table-row",{key:1},[n("md-table-cell",[t._v("交易时间")]),n("md-table-cell",[t._v(t._s(t.item.time))])],1),n("md-table-row",{key:2},[n("md-table-cell",[t._v("转帐方")]),n("md-table-cell",[t._v(t._s(t.triger))])],1),n("md-table-row",{key:3},[n("md-table-cell",[t._v("收款方")]),n("md-table-cell",[t._v(t._s(t.item.to))])],1),n("md-table-row",{key:4},[n("md-table-cell",[t._v("数目")]),n("md-table-cell",[t._v(t._s(t.item.quantity))])],1),n("md-table-row",{key:5},[n("md-table-cell",[t._v("备忘")]),n("md-table-cell",[t._v(t._s(t.item.memo))])],1),n("md-table-row",{key:6},[n("md-table-cell",[t._v("区块高度")]),n("md-table-cell",[t._v(t._s(t.item.height))])],1)],1)],1)],1)},st=[],ot={data:function(){return{item:{}}},computed:{triger:function(){return this.getParams(),this.item.from}},methods:{getParams:function(){this.item=this.$route.query.item}}},ct=ot,dt=(n("d7cd"),Object(f["a"])(ct,it,st,!1,null,null,null)),ut=dt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.ok,expression:"ok"}],attrs:{"md-mode":"indeterminate"}}),n("md-card",{attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Actions")])]),n("md-card-content",{staticStyle:{overflow:"hidden"}},[n("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"1vw"}},[n("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[n("thead",[n("tr",[n("th",[t._v("转帐方")]),n("th",[t._v("收款方")]),n("th",[t._v("数量")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")]),n("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),n("th",{staticClass:"hidden-xs"},[t._v("时间")])])]),n("tbody",t._l(t.actions,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.from))]),n("td",[t._v(t._s(e.to))]),n("td",[t._v(t._s(e.quantity))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])])]),n("md-card-actions",[n("span",[t._v("Actions  ")]),n("span",[t._v("第"+t._s(this.currentpage)+" 页 ")]),n("md-button",{on:{click:function(e){return t.prepage()}}},[n("md-icon",[t._v("keyboard_arrow_left")])],1),n("md-button",{on:{click:function(e){return t.nextpage()}}},[n("md-icon",[t._v("keyboard_arrow_right")])],1)],1)],1)],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.first,"md-persistent":""},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}},[n("span",[t._v("这是第一页了!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.first=!1}}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.last,"md-persistent":""},on:{"update:mdActive":function(e){t.last=e},"update:md-active":function(e){t.last=e}}},[n("span",[t._v("这是最后一页了!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.last=!1}}},[t._v("ok")])],1)],1)},mt=[],pt={data:function(){return{currentpage:1,actions:[],actionss:[],transactions:[],loadpertime:10,ok:1,total:0,pagenum:0,allpage:0,account:"",actionindex:[],first:!1,last:!1,position:"center"}},created:function(){this.initial()},methods:{initial:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.actionindex[0]=-1,this.account=this.$route.query.account,t.next=4,Qt.getActions({account_name:this.account,pos:-1,offset:-1}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(n),e.actionindex[0]=n.actions[0].account_action_seq;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 4:this.getPage();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getPage:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.actions=[],n=this.actionindex[this.currentpage-1]<20?3-this.actionindex[this.currentpage-1]:-20,t.next=4,Qt.getActions({account_name:this.account,pos:this.actionindex[this.currentpage-1],offset:n}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.actions.length,0!=e){t.next=6;break}return a.last=!0,a.currentpage=a.currentpage-1,a.getPage(),t.abrupt("return");case 6:1===a.currentpage&&(a.actionindex[0]=n.actions[e-1].account_action_seq),r=0,i=0,console.log(e),i=0;case 11:if(!(i<e)){t.next=20;break}if("transfer"!==n.actions[e-i-1].action_trace.act.name||"zjubcatokens"!==n.actions[e-i-1].action_trace.receipt.receiver){t.next=17;break}if(a.actions[r]={time:n.actions[e-i-1].block_time,from:n.actions[e-i-1].action_trace.act.data.from,to:n.actions[e-i-1].action_trace.act.data.to,quantity:n.actions[e-i-1].action_trace.act.data.quantity,memo:n.actions[e-i-1].action_trace.act.data.memo,height:n.actions[e-i-1].block_num,id:r},r+=1,10!=r){t.next=17;break}return t.abrupt("break",20);case 17:i++,t.next=11;break;case 20:console.log(r),0==r&&(a.currentpage=a.currentpage-1,a.last=!0,a.getPage()),console.log(i),a.actionindex[a.currentpage]=a.actionindex[a.currentpage-1]-i;case 24:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){1!=a.currentpage&&(a.last=!0,a.currentpage=a.currentpage-1,a.getPage())});case 4:this.ok=0;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),nextpage:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.actionindex[this.currentpage]<=2)){t.next=3;break}return this.last=!0,t.abrupt("return");case 3:return this.ok=1,this.currentpage=this.currentpage+1,t.next=7,this.getPage();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),prepage:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentpage-1>=1)){t.next=7;break}return this.currentpage=this.currentpage-1,this.ok=1,t.next=5,this.getPage();case 5:t.next=8;break;case 7:this.first=!0;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"SearchAction",query:{item:t}})}}},ht=pt,ft=(n("ee62"),Object(f["a"])(ht,lt,mt,!1,null,null,null)),vt=ft.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticStyle:{"text-align":"center","font-size":"20px"}},[t._v("提案搜索")]),n("md-speed-dial",{staticClass:"md-bottom-right",attrs:{"md-direction":"bottom"}},[n("md-speed-dial-target",{on:{click:function(e){return t.addproposal()}}},[n("md-icon",[t._v("add")])],1)],1),n("div",{staticStyle:{padding:"1vw 10vw 10vw",width:"100vw"}},[n("div",{staticClass:"bs-example bs-example-form"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-default\n                      dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v(t._s(t.caidan)+"\n                "),n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu"},[n("li",[n("a",{on:{click:function(e){return t.click1()}}},[t._v(t._s(t.caidan2))])])])]),n("md-input",{staticClass:"form-control",attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.KeyDown()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"loadingBox"},[n("md-progress-spinner",{staticClass:"loading",attrs:{"md-diameter":30,"md-stroke":3,"md-mode":"indeterminate"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.tt,expression:"tt"}],staticClass:"table-responsive"},[n("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[t._m(0),n("tbody",t._l(t.proposals,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.onSelect(e)}}},[n("td",[t._v(t._s(e.proposal_name))]),n("td",[t._v(t._s(e.proposer))]),n("td",[t._v(t._s(e.from))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.to))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.amount))]),n("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))])])}),0)])])],1)},_t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("提案名")]),n("th",[t._v("提案人")]),n("th",[t._v("提案请求转账方")]),n("th",{staticClass:"hidden-xs"},[t._v("收款方")]),n("th",{staticClass:"hidden-xs"},[t._v("金额")]),n("th",{staticClass:"hidden-xs"},[t._v("备忘")])])])}],gt={data:function(){return{caidan:"提案名",tt:!1,load:!1,caidan2:"账户名",proposals:[{proposal_name:"kongtou",proposer:"zjulowesyang",from:"zjubcatokens",to:"yangjiani233",amount:"200.0000 ZJUBCA"},{proposal_name:"reward",proposer:"zjulowesyang",from:"zjubcatokens",to:"elsakong1234",amount:"10000.0000 ZJUBCA"},{proposal_name:"regis",proposer:"zjulowesyang",from:"zjubcatokens",to:"tkdteokaidik",amount:"10000.0000 ZJUBCA"}]}},methods:{addproposal:function(){this.$router.push({name:"addproposal"})},click1:function(){var t=this.caidan;this.caidan=this.caidan2,this.caidan2=t},click2:function(){this.caidan="提案名"},KeyDown:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("down"),this.load=!0,t.next=4,setTimeout(function(){e.load=!1,e.tt=!0},3e3);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$router.push({name:"proposalinfo",query:{item:t}})}}},kt=gt,wt=(n("2f33"),Object(f["a"])(kt,bt,_t,!1,null,"39e183f6",null)),xt=wt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"centered-container",staticStyle:{"margin-left":"4vw","margin-right":"4vw"}},[n("md-content",{staticClass:"md-elevation-3"},[n("div",{staticClass:"title"},[n("div",{staticClass:"md-title"},[t._v("ZJUBCA")]),n("div",{staticClass:"md-body-1"},[t._v("发起提案")])]),n("div",{staticClass:"form"},[n("md-field",[n("label",[t._v("提案名")]),n("md-input",{model:{value:t.proposal_name,callback:function(e){t.proposal_name=e},expression:"proposal_name"}})],1),n("md-field",[n("label",[t._v("由 zjubcatoken 转账给")]),n("md-input",{attrs:{autofocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("md-field",[n("label",[t._v("金额")]),n("md-input",{model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("md-field",[n("label",[t._v("备注")]),n("md-input",{model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1),n("md-card-actions",[n("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-right":"0"},on:{click:function(e){return t.addpro()}}},[t._v("发起提案")])],1),t.loading?n("div",{staticClass:"loading-overlay"},[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-stroke":2}})],1):t._e()],1),n("div",{staticClass:"background"}),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.first,"md-persistent":""},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}},[n("span",[t._v("提案发起成功")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){t.first=!1,t.loading=!1}}},[t._v("ok")])],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":8e3,"md-active":this.alertload,"md-persistent":""},on:{"update:mdActive":function(e){return t.$set(this,"alertload",e)},"update:md-active":function(e){return t.$set(this,"alertload",e)}}},[n("span",[t._v(t._s(t.alertmessage))]),n("md-button",{staticClass:"md-primary",on:{click:function(t){this.alertload=!1}}},[t._v("ok")])],1)],1)},Ct=[],St={data:function(){return{name:"",amount:"",accountPermission:[],proposal_name:"",memo:"",alertmessage:"",loading:!1,first:!1,position:"center",alertload:!1,second:!1}},methods:{auth:function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1},3e3)},addpro:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,i,o,c,d=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Qt.getAccount("zjubcatest11").then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(console.log(e),n=0;n<e.permissions[0].required_auth.accounts.length;n++)d.accountPermission[n]=e.permissions[0].required_auth.accounts[n].permission;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 2:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},console.log(this.$store.state.scatter),n=this.$store.state.account,t.next=7,this.$store.state.scatter.eos(e,w.a,{expireInSeconds:20});case 7:return a=t.sent,console.log(n),console.log(this.accountPermission),t.prev=10,t.next=13,a.transaction({actions:[{account:"zjubcatokens",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcamember",quantity:"1.0000 ZJUBCA",memo:"enroll$"}}]});case 13:r=t.sent,console.log(r),i=null,this.loading=!0,o=setInterval(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getTransaction(r.transaction_id);case 3:i=t.sent,i.block_num>0&&(clearInterval(o),d.loading=!1,d.first=!0),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("fail"),d.first=!0;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),1e3),t.next=25;break;case 20:t.prev=20,t.t0=t["catch"](10),c=t.t0;try{c=JSON.parse(t.t0)}catch(u){}"nologin"===c.message||402!==c.code&&(c.error,this.first=!0);case 25:case"end":return t.stop()}},t,this,[[10,20]])}));function e(){return t.apply(this,arguments)}return e}(),alert:function(t){this.alertmessage=t,this.alertload=!0}}},jt=St,$t=Object(f["a"])(jt,yt,Ct,!1,null,null,null),Rt=$t.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-card",{attrs:{"md-with-hover":""}},[n("md-ripple",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("提案详情")])]),n("md-card-content",{staticStyle:{overflow:"hidden"}},[n("md-table",{staticStyle:{overflow:"hidden"}},[n("md-table-row",{key:1},[n("md-table-cell",[t._v("提案名")]),n("md-table-cell",[t._v(t._s(t.item.proposal_name))])],1),n("md-table-row",{key:2},[n("md-table-cell",[t._v("提案人")]),n("md-table-cell",[t._v(t._s(t.item.proposer))])],1),n("md-table-row",{key:3},[n("md-table-cell",[t._v("提案请求转账方")]),n("md-table-cell",[t._v(t._s(t.item.from))])],1),n("md-table-row",{key:4},[n("md-table-cell",[t._v("收款方")]),n("md-table-cell",[t._v(t._s(t.item.to))])],1),n("md-table-row",{key:5},[n("md-table-cell",[t._v("金额")]),n("md-table-cell",[t._v(t._s(t.item.amount))])],1),n("md-table-row",{key:6},[n("md-table-cell",[t._v("备忘")]),n("md-table-cell",[t._v(t._s(t.item.memo))])],1)],1)],1),n("md-card-actions",[n("md-button",{on:{click:function(e){return t.approve()}}},[t._v("同意")]),n("md-button",{on:{click:function(e){return t.approve()}}},[t._v("驳回")])],1)],1),n("md-snackbar",{attrs:{"md-position":t.position,"md-duration":4e3,"md-active":t.first,"md-persistent":""},on:{"update:mdActive":function(e){t.first=e},"update:md-active":function(e){t.first=e}}},[n("span",[t._v("成功签署提案!")]),n("md-button",{staticClass:"md-primary",on:{click:function(e){return t.goback()}}},[t._v("ok")])],1)],1)],1)},At=[],zt={data:function(){return{first:!1,position:"center"}},methods:{getParams:function(){this.item=this.$route.query.item},approve:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},console.log(this.$store.state.scatter),n=this.$store.state.account,t.next=5,this.$store.state.scatter.eos(e,w.a,{expireInSeconds:20});case 5:return a=t.sent,console.log(n),t.prev=7,t.next=10,a.transaction({actions:[{account:"zjubcatokens",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcatokens",quantity:"1.0000 ZJUBCA",memo:"enroll"}}]});case 10:console.log(res),r=null,this.loading=!0,i=setInterval(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,scattereos.getTransaction(res.transaction_id);case 3:r=t.sent,r.block_num>0&&(clearInterval(i),c.loading=!1,c.first=!0),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("fail"),c.first=!0;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),1e3),t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](7),o=t.t0;try{o=JSON.parse(t.t0)}catch(d){}"nologin"===o.message||402!==o.code&&(o.error,this.first=!0);case 21:case"end":return t.stop()}},t,this,[[7,16]])}));function e(){return t.apply(this,arguments)}return e}(),goback:function(){this.$router.push({name:"multisig"})}},created:function(){this.getParams()}},It=zt,qt=Object(f["a"])(It,Ot,At,!1,null,null,null),Pt=qt.exports;a["default"].use(o["a"]);var Nt=new o["a"]({base:"/app/",routes:[{path:"/",name:"shouye",component:b},{path:"/regis",name:"regis",component:S},{path:"/account",name:"account",component:T},{path:"/pages",name:"pages",component:Z},{path:"/SearchAccount",name:"SearchAccount",component:H},{path:"/member",name:"member",component:rt},{path:"/SearchAction",name:"SearchAction",component:ut},{path:"/acountactions",name:"acountactions",component:vt},{path:"/multisig",name:"multisig",component:xt},{path:"/addproposal",name:"addproposal",component:Rt},{path:"/proposalinfo",name:"proposalinfo",component:Pt}]}),Tt=n("2f62");a["default"].use(Tt["a"]);var Jt={account:null,login:!1,scatter:null,eos:null,searchaccount:null,item:null,pageaccount:null},Et=new Tt["a"].Store({state:Jt}),Bt={name:"Normal",data:function(){return{Account:null,menuVisible:!1,isShow:!1,first:!1}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initialize();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(t,e){"/"==t.path||"/account"==t.path||"/member"==t.path?this.isShow=!1:this.isShow=!0}},methods:{login:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.$store.state.login){t.next=6;break}return this.first=!0,t.next=4,this.initialize();case 4:t.next=7;break;case 6:return t.abrupt("return");case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goback:function(){Nt.go(-1)},clickshouye:function(){this.menuVisible=!1,this.$router.push({name:"shouye"})},clickaccount:function(){this.menuVisible=!1,this.$router.push({name:"account"})},clickmultisig:function(){this.menuVisible=!1,this.$router.push({name:"multisig"})},clickmember:function(){this.menuVisible=!1,this.$router.push({name:"member"})},initialize:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.$store.state.login){t.next=3;break}return console.log("login"),t.abrupt("return");case 3:return t.next=5,O.a.plugins(new z.a);case 5:return t.next=7,O.a.scatter.connect("ZJUBCA.TOKEN",{initTimeout:1e4}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){var a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return e.first=!0,e.Account="登陆",t.abrupt("return",!1);case 4:return a={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},r=O.a.scatter,t.next=8,r.getIdentity({accounts:[a]}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=r.identity.accounts.find(function(t){return"eos"===t.blockchain}),e.$store.state.scatter=r,e.$store.state.account=a,e.$store.state.login=!0,e.Account=a.name;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},Mt=Bt,Ut=(n("c3eb"),Object(f["a"])(Mt,r,i,!1,null,"0e19372e",null)),Zt=Ut.exports,Dt=n("9c30"),Vt=(n("51de"),n("e094"),n("487a")),Ft=n.n(Vt),Lt=n("43f9"),Kt=n.n(Lt);n.d(e,"eos",function(){return Qt}),a["default"].config.productionTip=!1,a["default"].use(Dt["MdButton"]),a["default"].use(Dt["MdTabs"]),a["default"].use(Dt["MdIcon"]),a["default"].use(Dt["MdProgress"]),a["default"].use(Dt["MdSnackbar"]),a["default"].use(Dt["MdDialog"]),a["default"].use(Dt["MdField"]),a["default"].use(Dt["MdRadio"]),a["default"].use(Kt.a),a["default"].use(Nt),a["default"].use(Et),a["default"].use(Ft.a);var Gt=n("2d76"),Ht={chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",keyProvider:[],httpEndpoint:"https://api-kylin.eoslaomao.com",expireInSeconds:60,broadcast:!0,verbose:!1,sign:!0},Qt=Gt(Ht);new a["default"]({router:Nt,store:Et,render:function(t){return t(Zt)}}).$mount("#app")},6159:function(t,e,n){},"6e74":function(t,e,n){},"6fa2":function(t,e,n){},"766c":function(t,e,n){},"89aa":function(t,e,n){},"9a66":function(t,e,n){"use strict";var a=n("6fa2"),r=n.n(a);r.a},bb4a:function(t,e,n){},c3eb:function(t,e,n){"use strict";var a=n("89aa"),r=n.n(a);r.a},cb55:function(t,e,n){"use strict";var a=n("6e74"),r=n.n(a);r.a},d337:function(t,e,n){},d7cd:function(t,e,n){"use strict";var a=n("33d4"),r=n.n(a);r.a},e453:function(t,e,n){"use strict";var a=n("bb4a"),r=n.n(a);r.a},ee62:function(t,e,n){"use strict";var a=n("d337"),r=n.n(a);r.a}});
//# sourceMappingURL=app.a84c0142.js.map