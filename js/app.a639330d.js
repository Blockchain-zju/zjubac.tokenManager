(function(t){function e(e){for(var n,i,c=e[0],o=e[1],d=e[2],l=0,m=[];l<c.length;l++)i=c[l],s[i]&&m.push(s[i][0]),s[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0f72":function(t,e,a){"use strict";var n=a("766c"),s=a.n(n);s.a},1:function(t,e){},"18ad":function(t,e,a){"use strict";var n=a("2a81"),s=a.n(n);s.a},2:function(t,e){},"27ff":function(t,e,a){"use strict";var n=a("6159"),s=a.n(n);s.a},"2a81":function(t,e,a){},3:function(t,e){},"33d4":function(t,e,a){},4:function(t,e){},"4a69":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container",attrs:{id:"app"}},[a("md-app",[a("md-app-toolbar",{staticClass:"md-primary",staticStyle:{display:"flex"}},[a("div",{staticClass:"md-toolbar-row"},[a("div",{staticClass:"md-toolbar-section-start"},[a("md-button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"md-icon-button",on:{click:t.goback}},[a("md-icon",[t._v("keyboard_arrow_left")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}]},[t._v("   ")]),a("span",[t._v(t._s(t.Account))])],1),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[a("md-icon",[t._v("menu")])],1)],1)])]),a("md-app-drawer",{attrs:{"md-permanent":"full","md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[a("md-list",[a("md-list-item",[a("md-icon",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("home")])],1),a("span",{staticClass:"md-list-item-text"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("首页")])],1)],1),a("md-list-item",[a("md-icon",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/account"}},[t._v("face")])],1),a("span",{staticClass:"md-list-item-text"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/account"}},[t._v("我的账户")])],1)],1),a("md-list-item",[a("md-icon",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/allmembers"}},[t._v("supervisor_account")])],1),a("span",{staticClass:"md-list-item-text"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/member"}},[t._v("成员信息")])],1)],1)],1)],1),a("md-app-content",[a("router-view")],1)],1)],1)},r=[],i=(a("7f7f"),a("7514"),a("96cf"),a("3b8d")),c=a("8c4f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shouye"},[a("div",{attrs:{id:"content1","md-layout":"","md-gutter":""}},[a("div",{staticClass:"md-layout-item md-layout md-gutter"},[a("div",{staticClass:"md-layout-item md-medium-size-33 md-small-size-50 md-xsmall-size-100",staticStyle:{"margin-top":"0vw"}},[a("md-card",{staticClass:"zjutokeninfo",staticStyle:{"margin-top":"1vw","margin-left":"3vw","margin-right":"3vw"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title",staticStyle:{"text-align":"center"}},[t._v("Token合约账户")])])],1),a("md-card-content",[a("md-table",[a("md-table-row",[a("md-table-cell",[t._v("总量")]),a("md-table-cell",[t._v(t._s(t.max))])],1),a("md-table-row",[a("md-table-cell",[t._v("释放")]),a("md-table-cell",[t._v(t._s(t.supply))])],1),a("md-table-row",[a("md-table-cell",[t._v("锁仓")]),a("md-table-cell",[t._v(t._s(t.frozen_amount))])],1),a("md-table-row",[a("md-table-cell",[t._v("Issuer")]),a("md-table-cell",[t._v(t._s(t.issuer))])],1)],1)],1)],1)],1),a("div",{staticClass:"md-layout-item md-medium-size-36 md-small-size-50 md-xsmall-size-100"},[a("md-card",{staticClass:"zjutokeninfo",staticStyle:{"margin-top":"1vw","margin-left":"3vw","margin-right":"3vw"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title",staticStyle:{"text-align":"center"}},[t._v("下一次解锁")])])],1),a("md-card-content",[a("md-table",[a("md-table-row",[a("md-table-cell",[t._v("时间")]),a("md-table-cell",[t._v(t._s(t.next_release_day))])],1),a("md-table-row",[a("md-table-cell",[t._v("数量")]),a("md-table-cell",[t._v(t._s(t.release_amount_pertime))])],1),a("md-table-row",[a("md-table-cell",[t._v("释放次数")]),a("md-table-cell",[t._v(t._s(t.released_times))])],1)],1)],1)],1)],1)]),a("md-card",{staticStyle:{"margin-top":"4vw"},attrs:{id:"recent-action"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("最近交易")])]),a("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[a("md-button",{on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),a("md-card-content",[a("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"0vw"}},[t.ok?a("md-progress-spinner",{staticStyle:{"margin-left":"32vw"},attrs:{"md-mode":"indeterminate"}}):a("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[a("thead",[a("tr",[a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("quantity")]),a("th",{staticClass:"hidden-xs"},[t._v("memo")]),a("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),a("th",{staticClass:"hidden-xs"},[t._v("time")])])]),a("tbody",t._l(t.actions,function(e){return a("tr",{key:e.id,on:{click:function(a){return t.onSelect(e)}}},[a("td",[t._v(t._s(e.from))]),a("td",[t._v(t._s(e.to))]),a("td",[t._v(t._s(e.quantity))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1)],1)])},d=[],u=a("e814"),l=a.n(u),m=(a("a481"),function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")}),h={name:"shouye",data:function(){return{actions:[],actionss:[],ok:0,max_supply:"",supply:"",frozen_amount:"",issuer:"",next_release_day:"",release_amount_pertime:"",released_times:"",transactions:[]}},computed:{max:function(){return this.getTotalNum(),this.max_supply}},methods:{getTotalNum:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return jt.getTableRows({code:"zjubcatest11",scope:"AAA",table:"stat",json:"true"}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a.max_supply=e.rows[0].max_supply,a.supply=e.rows[0].supply,a.frozen_amount=e.rows[0].frozen_amount,a.issuer=e.rows[0].issuer,a.release_amount_pertime=e.rows[0].release_amount_pertime,a.released_times=e.rows[0].released_times,a.next_release_day=m(e.rows[0].next_release_day);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t.next=3,jt.getActions({account_name:"zjubcatest11",pos:-1,offset:-50}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=n.actions.length,s=0,r=0;case 3:if(!(r<e)){t.next=12;break}if("transfer"!==n.actions[e-r-1].action_trace.act.name||"zjubcatest11"!==n.actions[e-r-1].action_trace.receipt.receiver){t.next=9;break}if(a.actions[s]={time:n.actions[e-r-1].block_time,from:n.actions[e-r-1].action_trace.act.data.from,to:n.actions[e-r-1].action_trace.act.data.to,quantity:n.actions[e-r-1].action_trace.act.data.quantity,memo:n.actions[e-r-1].action_trace.act.data.memo,height:n.actions[e-r-1].block_num,id:s},s+=1,20!=s){t.next=9;break}return t.abrupt("break",12);case 9:r++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 3:this.ok=!this.ok;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$store.state.item=t,this.$router.push({name:"SearchAction"})},toall:function(){this.$store.state.pageaccount="zjubcatest11",this.$router.push({name:"pages"})}}},f=h,p=(a("cb55"),a("2877")),_=Object(p["a"])(f,o,d,!1,null,null,null),v=_.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"centered-container",staticStyle:{"margin-left":"4vw","margin-right":"4vw"}},[a("md-content",{staticClass:"md-elevation-3"},[a("div",{staticClass:"title"},[a("div",{staticClass:"md-title"},[t._v("ZJUBCA")]),a("div",{staticClass:"md-body-1"},[t._v("注册")])]),a("div",{staticClass:"form"},[a("md-field",[a("label",[t._v("真实姓名")]),a("md-input",{attrs:{autofocus:""},model:{value:t.studentInfo.FullName,callback:function(e){t.$set(t.studentInfo,"FullName",e)},expression:"studentInfo.FullName"}})],1),a("md-field",[a("label",[t._v("学号")]),a("md-input",{model:{value:t.studentInfo.studentId,callback:function(e){t.$set(t.studentInfo,"studentId",e)},expression:"studentInfo.studentId"}})],1)],1),a("md-card-actions",[a("md-button",{staticClass:"md-raised md-primary",staticStyle:{"margin-right":"0"},on:{click:t.regis}},[t._v("注册")])],1),t.loading?a("div",{staticClass:"loading-overlay"},[a("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-stroke":2}})],1):t._e()],1),a("div",{staticClass:"background"})],1)},g=[],w=a("d3b7"),x=a.n(w),y={name:"App",data:function(){return{loading:!1,studentInfo:{studentId:"",EosId:"",FullName:""}}},methods:{auth:function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1},5e3)},regis:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},t.next=3,this.$store.state.scatter.eos(e,x.a,{expireInSeconds:20});case 3:return a=t.sent,t.next=6,a.transaction({actions:[{account:"zjubcatest11",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcatest12",quantity:"10000.0000 AAA",memo:"enroll$"+this.studentInfo.FullName+"$"+this.studentInfo.studentId}}]}).catch(function(t){console.log(t),alert("注册失败")});case 6:t.sent;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},k=y,S=(a("0f72"),Object(p["a"])(k,b,g,!1,null,null,null)),C=S.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div"),a("div",[a("md-card",{attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("我的账户")])]),a("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[a("md-button",{on:{click:t.renew}},[t._v("renew")])],1)],1),a("md-card-content",[a("md-table",[a("md-table-row",[a("md-table-cell",[t._v("Account Name")]),a("md-table-cell",[t._v(t._s(t.name))])],1),a("md-table-row",[a("md-table-cell",[t._v("StudentId")]),a("md-table-cell",[t._v(t._s(t.StudentId))])],1),a("md-table-row",[a("md-table-cell",[t._v("studentname")]),a("md-table-cell",[t._v(t._s(t.studentname))])],1),a("md-table-row",[a("md-table-cell",[t._v("注册时间")]),a("md-table-cell",[t._v(t._s(t.registration_date))])],1),a("md-table-row",[a("md-table-cell",[t._v("注册到期时间")]),a("md-table-cell",[t._v(t._s(t.expiration_date))])],1),a("md-table-row",[a("md-table-cell",[t._v("余额")]),a("md-table-cell",[t._v(t._s(t.left))])],1)],1)],1)],1)],1),a("md-card",{staticStyle:{"margin-top":"5vw"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("最近交易")])]),a("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[a("md-button",{on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),a("md-card-content",[a("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"1vw"}},[t.ok?a("md-progress-spinner",{staticStyle:{"margin-left":"32vw"},attrs:{"md-mode":"indeterminate"}}):a("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[a("thead",[a("tr",[a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("quantity")]),a("th",{staticClass:"hidden-xs"},[t._v("memo")]),a("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),a("th",{staticClass:"hidden-xs"},[t._v("time")])])]),a("tbody",t._l(t.actions,function(e){return a("tr",{key:e.id,on:{click:function(a){return t.onSelect(e)}}},[a("td",[t._v(t._s(e.from))]),a("td",[t._v(t._s(e.to))]),a("td",[t._v(t._s(e.quantity))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1)],1)])},$=[],A=a("76b0"),z=a.n(A),I=a("876a"),O=a.n(I),R=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},q={data:function(){return{ok:0,name:"",StudentId:"",pk:"",leftnum:"",actions:[],actionss:[],transactions:[],studentname:"",registration_date:"",expiration_date:""}},computed:{left:function(){return this.mess(),this.leftnum}},methods:{mess:function(){this.name=this.$store.state.account.name,this.getAccountInfo()},getAccountInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt.getTableRows({code:"zjubcatest12",scope:"zjubcatest12",table:"members",json:"true"}).then(function(t){var e,n=t.rows.length;for(e=0;e<n;e++)if(t.rows[e].eosaccount===a.name){a.StudentId=t.rows[e].studentid,a.studentname=t.rows[e].studentname,a.registration_date=R(t.rows[e].registration_date),a.expiration_date=R(t.rows[e].expiration_date),t.rows[e].expiration_date<Date.parse(new Date)/1e3&&(a.expiration_date=a.expiration_date+"(注册已过期，请renew！）");break}e===n&&alert("请先注册！")});case 2:return jt.getCurrencyBalance({code:"zjubcatest11",account:this.name,symbol:"AAA"}).then(function(t){a.leftnum=t[0]}),t.next=5,jt.getActions({account_name:this.name,pos:-1,offset:-50}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=n.actions.length,s=0,r=0;case 3:if(!(r<e)){t.next=12;break}if("transfer"!==n.actions[e-r-1].action_trace.act.name||"zjubcatest11"!==n.actions[e-r-1].action_trace.receipt.receiver){t.next=9;break}if(a.actions[s]={time:n.actions[e-r-1].block_time,from:n.actions[e-r-1].action_trace.act.data.from,to:n.actions[e-r-1].action_trace.act.data.to,quantity:n.actions[e-r-1].action_trace.act.data.quantity,memo:n.actions[e-r-1].action_trace.act.data.memo,height:n.actions[e-r-1].block_num,id:s},s+=1,20!=s){t.next=9;break}return t.abrupt("break",12);case 9:r++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 5:this.ok=!this.ok;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$store.state.item=t,this.$router.push({name:"SearchAction"})},toall:function(){this.$store.state.pageaccount=this.name,this.$router.push({name:"pages"})},renew:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},t.next=3,this.$store.state.scatter.eos(e,x.a,{expireInSeconds:20});case 3:return a=t.sent,t.next=6,a.transaction({actions:[{account:"zjubcatest11",name:"transfer",authorization:[{actor:this.$store.state.account.name,permission:this.$store.state.account.authority}],data:{from:this.$store.state.account.name,to:"zjubcatest12",quantity:"10000.0000 AAA",memo:"renew$my$account"}}]}).catch(function(t){console.log(t),alert("更新失败")});case 6:t.sent;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},T=q,P=(a("18ad"),Object(p["a"])(T,j,$,!1,null,"297947c6",null)),M=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-header",[a("div",{staticClass:"md-title"},[t._v(t._s(t.message))])]),a("md-card-content",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"1vw"}},[t.ok?a("md-progress-spinner",{staticStyle:{"margin-left":"32vw"},attrs:{"md-mode":"indeterminate"}}):a("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[a("thead",[a("tr",[a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("quantity")]),a("th",{staticClass:"hidden-xs"},[t._v("memo")]),a("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),a("th",{staticClass:"hidden-xs"},[t._v("time")])])]),a("tbody",t._l(t.actions,function(e){return a("tr",{key:e.id,on:{click:function(a){return t.onSelect(e)}}},[a("td",[t._v(t._s(e.from))]),a("td",[t._v(t._s(e.to))]),a("td",[t._v(t._s(e.quantity))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)]),a("md-card-actions",[a("span",[t._v(t._s(this.message))]),a("span",[t._v("第"+t._s(this.currentpage)+" 页")]),a("md-button",{on:{click:function(e){return t.prepage()}}},[a("span",{staticClass:"glyphicon glyphicon-minus"})]),a("md-button",{on:{click:function(e){return t.nextpage()}}},[a("span",{staticClass:"glyphicon glyphicon-plus"})])],1)],1)],1)],1)},N=[],D={data:function(){return{currentpage:1,actions:[],actionss:[],transactions:[],loadpertime:10,ok:1,total:0,pagenum:0,allpage:0,account:"",actionindex:[]}},computed:{message:function(){return this.actionindex[0]=-1,this.account=this.$store.state.pageaccount,this.getPage(),"Actions"}},methods:{getPage:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(1!=this.currentpage&&this.actionindex[this.currentpage-1]<0)){t.next=5;break}return alert("这是最后一页了！"),this.currentpage=this.currentpage-1,this.getPage(),t.abrupt("return");case 5:return t.next=7,jt.getActions({account_name:this.account,pos:this.actionindex[this.currentpage-1],offset:-60}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.actions.length,1===a.currentpage&&(a.actionindex[0]=n.actions[e-1].account_action_seq),0!=e){t.next=7;break}return alert("这是最后一页了！"),a.currentpage=a.currentpage-1,a.getPage(),t.abrupt("return");case 7:for(s=0,r=0;i<10;i++)actions[i]={};r=0;case 11:if(!(r<e)){t.next=20;break}if("transfer"!==n.actions[e-r-1].action_trace.act.name||"zjubcatest11"!==n.actions[e-r-1].action_trace.receipt.receiver){t.next=17;break}if(a.actions[s]={time:n.actions[e-r-1].block_time,from:n.actions[e-r-1].action_trace.act.data.from,to:n.actions[e-r-1].action_trace.act.data.to,quantity:n.actions[e-r-1].action_trace.act.data.quantity,memo:n.actions[e-r-1].action_trace.act.data.memo,height:n.actions[e-r-1].block_num,id:s},s+=1,10!=s){t.next=17;break}return t.abrupt("break",20);case 17:r++,t.next=11;break;case 20:a.actionindex[a.currentpage]=a.actionindex[a.currentpage-1]-r;case 21:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 7:this.ok=!this.ok;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),nextpage:function(){this.currentpage=this.currentpage+1,this.ok=0,this.getPage()},prepage:function(){this.currentpage-1>=1&&(this.currentpage=this.currentpage-1,this.ok=0,this.getPage())},onSelect:function(t){this.$store.state.item=t,this.$router.push({name:"SearchAction"})}}},V=D,F=(a("27ff"),Object(p["a"])(V,E,N,!1,null,null,null)),B=F.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("md-card",{staticClass:"md-alignment-space-between",attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-header",[a("div",{staticClass:"md-title"},[t._v("Account Information")])]),a("md-card-content",[a("md-table",{staticStyle:{"table-layout":"fixed",overflow:"hidden"}},[a("md-table-row",[a("md-table-cell",[t._v("Account Name")]),a("md-table-cell",[t._v(t._s(t.name))])],1),a("md-table-row",[a("md-table-cell",[t._v("StudentId")]),a("md-table-cell",[t._v(t._s(t.StudentId))])],1),a("md-table-row",[a("md-table-cell",[t._v("studentname")]),a("md-table-cell",[t._v(t._s(t.studentname))])],1),a("md-table-row",[a("md-table-cell",[t._v("registration_date")]),a("md-table-cell",[t._v(t._s(t.registration_date))])],1),a("md-table-row",[a("md-table-cell",[t._v("余额")]),a("md-table-cell",[t._v(t._s(t.left))])],1)],1)],1)],1)],1),a("md-card",{staticStyle:{"margin-top":"4vw"}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("最近交易")])]),a("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[a("md-button",{on:{click:function(e){return t.toall()}}},[t._v("所有交易")])],1)],1),a("md-card-content",[a("div",{staticClass:"table-responsive"},[t.ok?a("md-progress-spinner",{staticStyle:{"margin-left":"32vw"},attrs:{"md-mode":"indeterminate"}}):a("table",{staticClass:"table",staticStyle:{"table-layout":"fixed"}},[a("thead",[a("tr",[a("th",[t._v("from")]),a("th",[t._v("to")]),a("th",[t._v("quantity")]),a("th",{staticClass:"hidden-xs"},[t._v("memo")]),a("th",{staticClass:"hidden-xs"},[t._v("区块高度")]),a("th",{staticClass:"hidden-xs"},[t._v("time")])])]),a("tbody",t._l(t.actions,function(e){return a("tr",{key:e.id,on:{click:function(a){return t.onSelect(e)}}},[a("td",[t._v(t._s(e.from))]),a("td",[t._v(t._s(e.to))]),a("td",[t._v(t._s(e.quantity))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.memo))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.height))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.time))])])}),0)])],1)])],1)],1)])},J=[],U=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},Z={data:function(){return{ok:0,name:"",StudentId:"",pk:"",leftnum:"",actions:[],actionss:[],transactions:[],studentname:"",registration_date:""}},computed:{left:function(){return this.name=this.$store.state.searchaccount,this.getAccountInfo(),this.leftnum}},methods:{getAccountInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt.getTableRows({code:"zjubcatest12",scope:"zjubcatest12",table:"members",json:"true"}).then(function(t){var e,n=t.rows.length;for(e=0;e<n;e++)if(t.rows[e].eosaccount===a.name){a.StudentId=t.rows[e].studentid,a.studentname=t.rows[e].studentname,a.registration_date=U(t.rows[e].registration_date);break}});case 2:return jt.getCurrencyBalance({code:"zjubcatest11",account:this.name,symbol:"AAA"}).then(function(t){a.leftnum=t[0]}),t.next=5,jt.getActions({account_name:this.name,pos:-1,offset:-50}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=n.actions.length,s=0,r=0;case 3:if(!(r<e)){t.next=12;break}if("transfer"!==n.actions[e-r-1].action_trace.act.name||"zjubcatest11"!==n.actions[e-r-1].action_trace.receipt.receiver){t.next=9;break}if(a.actions[s]={time:n.actions[e-r-1].block_time,from:n.actions[e-r-1].action_trace.act.data.from,to:n.actions[e-r-1].action_trace.act.data.to,quantity:n.actions[e-r-1].action_trace.act.data.quantity,memo:n.actions[e-r-1].action_trace.act.data.memo,height:n.actions[e-r-1].block_num,id:s},s+=1,20!=s){t.next=9;break}return t.abrupt("break",12);case 9:r++,t.next=3;break;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 5:this.ok=!this.ok;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$store.state.item=t,this.$router.push({name:"SearchAction"})},toall:function(){this.$router.push({name:"pages",params:{account:this.name}})}}},G=Z,H=Object(p["a"])(G,L,J,!1,null,"16f7cdd9",null),K=H.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-card",{attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("协会成员")])]),a("md-menu",{attrs:{"md-size":"big","md-direction":"bottom-end"}},[a("md-button",[a("router-link",{attrs:{to:"/regis"}},[t._v(t._s(t.message))])],1)],1)],1),a("md-card-content",[a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("姓名")]),a("th",{staticClass:"hidden-xs"},[t._v("学号")]),a("th",{staticClass:"hidden-xs"},[t._v("EOS账号")]),a("th",[t._v("注册时间")]),a("th",{staticClass:"hidden-xs"},[t._v("到期时间")])])]),a("tbody",t._l(t.searched,function(e){return a("tr",{key:e.height,on:{click:function(a){return t.onSelect(e)}}},[a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.studentid))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.eosid))]),a("td",[t._v(t._s(e.registime))]),a("td",{staticClass:"hidden-xs"},[t._v(t._s(e.endtime))])])}),0)])],1)],1)],1)],1)},W=[],X=(a("386d"),a("6762"),a("2fdb"),a("6b54"),function(t){return t.toString().toLowerCase()}),Y=function(t,e){return e?t.filter(function(t){return X(t.name).includes(X(e))}):t},tt=function(t){return new Date(1e3*l()(t)).toLocaleString().replace(/:\d{1,2}$/," ")},et={name:"TableSearch",data:function(){return{search:null,searched:[],users:[],ok:0}},methods:{newUser:function(){this.$router.push({name:"regis"})},searchOnTable:function(){this.searched=Y(this.users,this.search)},getMembers:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt.getTableRows({code:"zjubcatest12",scope:"zjubcatest12",table:"members",json:"true"}).then(function(t){var a,n=t.rows.length;for(a=0;a<n;a++)e.users[a]={name:t.rows[n-a-1].studentname,studentid:t.rows[n-a-1].studentid,eosid:t.rows[n-a-1].eosaccount,registime:tt(t.rows[n-a-1].registration_date),endtime:tt(t.rows[n-a-1].expiration_date)},t.rows[n-a-1].expiration_date<Date.parse(new Date)/1e3&&(e.users[a].name=e.users[a].name+"(已过期）");e.searched=e.users});case 2:this.ok=!this.ok;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSelect:function(t){this.$store.state.searchaccount=t.eosid,this.$router.push({name:"SearchAccount"})}},computed:{message:function(){return this.getMembers(),"注册"}}},at=et,nt=(a("9ce4"),Object(p["a"])(at,Q,W,!1,null,"f9df990a",null)),st=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",[a("md-card-header",[a("div",{staticClass:"md-title"},[t._v("Transaction Infomation")])]),a("md-card-content",{staticStyle:{overflow:"hidden"}},[a("md-table",{staticStyle:{overflow:"hidden"}},[a("md-table-row",{key:1},[a("md-table-cell",[t._v("time")]),a("md-table-cell",[t._v(t._s(t.item.time))])],1),a("md-table-row",{key:2},[a("md-table-cell",[t._v("from")]),a("md-table-cell",[t._v(t._s(t.triger))])],1),a("md-table-row",{key:3},[a("md-table-cell",[t._v("to")]),a("md-table-cell",[t._v(t._s(t.item.to))])],1),a("md-table-row",{key:4},[a("md-table-cell",[t._v("quantity")]),a("md-table-cell",[t._v(t._s(t.item.quantity))])],1),a("md-table-row",{key:5},[a("md-table-cell",[t._v("memo")]),a("md-table-cell",[t._v(t._s(t.item.memo))])],1),a("md-table-row",{key:6},[a("md-table-cell",[t._v("height")]),a("md-table-cell",[t._v(t._s(t.item.height))])],1)],1)],1)],1)},it=[],ct={data:function(){return{item:{}}},computed:{triger:function(){return this.getParams(),this.item.from}},watch:{$route:"getParams"},methods:{getParams:function(){this.item=this.$store.state.item}}},ot=ct,dt=(a("d7cd"),Object(p["a"])(ot,rt,it,!1,null,null,null)),ut=dt.exports;n["default"].use(c["a"]);var lt=new c["a"]({base:"/app/",routes:[{path:"/",name:"shouye",component:v},{path:"/regis",name:"regis",component:C},{path:"/account",name:"account",component:M},{path:"/pages",name:"pages",component:B},{path:"/SearchAccount",name:"SearchAccount",component:K},{path:"/member",name:"member",component:st},{path:"/SearchAction",name:"SearchAction",component:ut}]}),mt=a("2f62");n["default"].use(mt["a"]);var ht={account:null,login:!1,scatter:null,eos:null,searchaccount:null,item:null,pageaccount:null},ft=new mt["a"].Store({state:ht}),pt={name:"Normal",data:function(){return{Account:null,menuVisible:!1,isShow:!1}},created:function(){this.initialize()},watch:{$route:function(t,e){"/"==t.path?this.isShow=!1:this.isShow=!0}},methods:{goback:function(){lt.go(-1)},initialize:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.$store.state.login){t.next=3;break}return console.log("login"),t.abrupt("return");case 3:return t.next=5,z.a.plugins(new O.a);case 5:return t.next=7,z.a.scatter.connect("ZJUBCA.VOTE",{initTimeout:1e4}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return alert("please unlock your scatter"),e.Account="登陆",t.abrupt("return",!1);case 4:return n={blockchain:"eos",protocol:"https",host:"api-kylin.eoslaomao.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},s=z.a.scatter,t.next=8,s.getIdentity({accounts:[n]}).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=s.identity.accounts.find(function(t){return"eos"===t.blockchain}),e.$store.state.scatter=s,e.$store.state.account=n,e.$store.state.login=!0,e.Account=n.name;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},_t=pt,vt=(a("fef9"),Object(p["a"])(_t,s,r,!1,null,"539b590c",null)),bt=vt.exports,gt=a("9c30"),wt=(a("51de"),a("e094"),a("487a")),xt=a.n(wt),yt=a("43f9"),kt=a.n(yt);a.d(e,"eos",function(){return jt}),n["default"].config.productionTip=!1,n["default"].use(gt["MdButton"]),n["default"].use(gt["MdTabs"]),n["default"].use(gt["MdIcon"]),n["default"].use(gt["MdProgress"]),n["default"].use(gt["MdSnackbar"]),n["default"].use(gt["MdDialog"]),n["default"].use(gt["MdField"]),n["default"].use(gt["MdRadio"]),n["default"].use(kt.a),n["default"].use(lt),n["default"].use(ft),n["default"].use(xt.a);var St=a("2d76"),Ct={chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",keyProvider:[],httpEndpoint:"https://api-kylin.eoslaomao.com",expireInSeconds:60,broadcast:!0,verbose:!1,sign:!0},jt=St(Ct);new n["default"]({router:lt,store:ft,render:function(t){return t(bt)}}).$mount("#app")},6159:function(t,e,a){},"6e74":function(t,e,a){},"766c":function(t,e,a){},"9ce4":function(t,e,a){"use strict";var n=a("4a69"),s=a.n(n);s.a},a210:function(t,e,a){},cb55:function(t,e,a){"use strict";var n=a("6e74"),s=a.n(n);s.a},d7cd:function(t,e,a){"use strict";var n=a("33d4"),s=a.n(n);s.a},fef9:function(t,e,a){"use strict";var n=a("a210"),s=a.n(n);s.a}});
//# sourceMappingURL=app.a639330d.js.map